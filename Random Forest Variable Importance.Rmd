---
title: "Delhi Variable Importance"
author: "Michael Murray"
date: "November 17, 2015"
output: html_document
---

# Random Forest prediction of Kyphosis data
library(randomForest)
fit <- randomForest(Kyphosis ~ Age + Number + Start,   data=kyphosis)
print(fit) # view results 
importance(fit) # importance of each predictor

```{r}
library(randomForest)
library(geosphere)
setwd("~/Spatial Segmentation/India")
delhi <- read.csv("delhi.csv")

```

```{r}
delhi$commuterrail.dist.half <- ifelse(delhi$commuterrail <= 500, 1, 0)

delhi$commuterrail.dist.quarter <- ifelse(delhi$commuterrail <= 250, 1, 0)

delhi$train.dist.half <- ifelse(delhi$train <= 500, 1, 0)

delhi$train.dist.quart <- ifelse(delhi$train <= 250, 1, 0)

delhi$bus.dist.half <- ifelse(delhi$bus <= 500, 1, 0)

delhi$bus.dist.quart <- ifelse(delhi$bus <= 250, 1, 0)

delhi$petrol.dist.half <- ifelse(delhi$petrol <= 500, 1, 0)

delhi$petrol.dist.quart <- ifelse(delhi$petrol <= 250, 1, 0)

delhi$park.dist.km <- ifelse(delhi$park <= 1000, 1, 0)

delhi$park.dist.1to2km <- ifelse(delhi$park >1000 && delhi$park<2000, 1, 0)
```

```{r}
delhi$airport.lat <- 28.5561624
delhi$airport.lon <- 77.0999578

p1 <- matrix(c(delhi$Longitude,delhi$Latitude),nrow=length(delhi$Longitude),ncol=2)
p2 <- matrix(c(delhi$airport.lon,delhi$airport.lat),nrow=length(delhi$Longitude),ncol=2)

Indira.Ghandi <- distHaversine(p1,p2)

delhi <- data.frame(delhi, Indira.Ghandi)
```

```{r}
delhi.ml<- randomForest(hp ~ rooms + property + Connaught.Place + Laxmi.Nagar +airport + bar + cemetery + golf + industrial + parking + petrol + tourist + amusement + bus.dist.half +community + highered + library + parkinglot + train.dist.half + police + business + commuterrail.dist.half + hospital + school + park.dist.km+ large.building + Indira.Ghandi, data = delhi)
```

delhi.lm.poi7 <- lm(hp ~ rooms + property + Connaught.Place + Laxmi.Nagar +airport + bar + cemetery + golf + industrial + parking + petrol + tourist + amusement + bus.dist.half +community + highered + library + parkinglot + train.dist.half + police + business + commuterrail.dist.half + hospital + school + park.dist.km+ large.building + Indira.Ghandi, data = delhi)